[gd_scene load_steps=9 format=2]

[ext_resource path="res://Main.gd" type="Script" id=1]
[ext_resource path="res://GestoreGravitaGlobale.tscn" type="PackedScene" id=2]
[ext_resource path="res://default_env.tres" type="Environment" id=3]
[ext_resource path="res://InterpolatedCamera.gd" type="Script" id=4]
[ext_resource path="res://mesh gridmap/gridmap.meshlib" type="MeshLibrary" id=5]
[ext_resource path="res://Personaggio.tscn" type="PackedScene" id=6]
[ext_resource path="res://oggetti dinamici/GruppoOggettiDinamici.tscn" type="PackedScene" id=7]
[ext_resource path="res://oggetti dinamici/Cubo spostabile.tscn" type="PackedScene" id=8]

[node name="Spatial" type="Spatial"]
script = ExtResource( 1 )

[node name="Gestore gravita globale" parent="." instance=ExtResource( 2 )]

[node name="Position3D" type="Position3D" parent="."]

[node name="InterpolatedCamera" type="InterpolatedCamera" parent="."]
transform = Transform( 0.981892, -0.0529952, 0.181878, 0, 0.960075, 0.279744, -0.189442, -0.274678, 0.94269, -0.901294, 4.39192, 4.52872 )
environment = ExtResource( 3 )
current = true
target = NodePath("../Personaggio/Destinazione camera interpolata")
speed = 10.0
enabled = true
script = ExtResource( 4 )

[node name="Mondo gridmap" type="GridMap" parent="."]
mesh_library = ExtResource( 5 )
cell_center_y = false
data = {
"cells": PoolIntArray( 0, 65519, 1, 1, 65519, 1, 2, 65519, 1, 3, 65519, 1, 65532, 65519, 536870913, 65533, 65519, -1610612735, 65534, 65519, 1, 65535, 65519, 1, 65536, 65519, -1073741823, 65537, 65519, 1, 65538, 65519, 1, 65539, 65519, 1, 131067, 65519, 536870913, 131068, 65519, 1, 131069, 65519, -1073741823, 131070, 65519, 1, 131072, 65519, -1073741823, 131073, 65519, 1, 131074, 65519, 1, 131075, 65519, 1073741825, 196603, 65519, 536870913, 196604, 65519, 1, 196605, 65519, 1073741825, 196606, 65519, 1, 196608, 65519, 1, 196609, 65519, 1, 196610, 65519, 1, 196611, 65519, 1, 262139, 65519, 1073741825, 262140, 65519, 1, 262141, 65519, 1610612737, 262142, 65519, 1, 262143, 65519, 1073741825, 262144, 65519, 1, 262145, 65519, 1, 262146, 65519, 1, 262147, 65519, 1, 327675, 65519, 1, 327676, 65519, 1, 327677, 65519, -1073741823, 327678, 65519, 1, 327679, 65519, 1, 327680, 65519, 1, 327681, 65519, 1, 327682, 65519, 1, 327683, 65519, 1, 393211, 65519, 1, 393212, 65519, 1, 393213, 65519, 1, 393214, 65519, -1073741823, 393215, 65519, 1610612737, 393216, 65519, 1, 393217, 65519, 1, 393218, 65519, 1, 393219, 65519, 1, 458747, 65519, -1073741823, 458748, 65519, 1, 458749, 65519, 1073741825, 458750, 65519, 1, 458751, 65519, 1, 458752, 65519, 536870913, 458753, 65519, 1, 458754, 65519, 1, 458755, 65519, 1, 524283, 65519, 1, 524284, 65519, 1073741825, 524285, 65519, 1, 524286, 65519, 1, 524287, 65519, 1, 524288, 65519, 3, 524289, 65519, 3, 524290, 65519, 3, 524291, 65519, 1073741827, 589819, 65519, -1073741821, 589820, 65519, 3, 589821, 65519, -1073741821, 589822, 65519, 3, 589823, 65519, 3, 589827, 65519, 1, 655363, 65519, 1073741825, 720899, 65519, 1, 786435, 65519, 536870913, 0, 65520, 1, 1, 65520, 1, 2, 65520, -1073741823, 3, 65520, 1, 65531, 65520, 1, 65532, 65520, -1610612735, 65533, 65520, 1, 65534, 65520, 1, 65535, 65520, -1073741823, 65539, 65520, 1, 131067, 65520, 1, 131075, 65520, 1, 196603, 65520, 1, 196611, 65520, -1073741823, 262139, 65520, 1, 262147, 65520, 1, 327675, 65520, 1, 327683, 65520, 1, 393211, 65520, 1, 393219, 65520, 1, 458747, 65520, 1, 458755, 65520, 1, 524283, 65520, 1, 524288, 65520, -1610612733, 524289, 65520, 3, 524290, 65520, 3, 524291, 65520, 3, 589819, 65520, 3, 589820, 65520, 3, 589821, 65520, 3, 589822, 65520, 3, 589823, 65520, 3, 589827, 65520, 1, 655355, 65520, 1, 655363, 65520, 1, 720891, 65520, 1, 720899, 65520, 1, 786427, 65520, 1, 786435, 65520, 1, 0, 65521, 1, 1, 65521, -1073741823, 2, 65521, -1073741823, 3, 65521, 1, 65531, 65521, 1, 65532, 65521, 1, 65533, 65521, 1, 65534, 65521, 1, 65535, 65521, 1, 65539, 65521, 1, 131067, 65521, -1610612735, 131075, 65521, -1610612735, 196603, 65521, 1, 196611, 65521, 1, 262139, 65521, 1, 262147, 65521, 1, 327675, 65521, 1, 327683, 65521, 1073741825, 393211, 65521, 1, 393219, 65521, 1, 458747, 65521, 1, 458755, 65521, 1, 524283, 65521, 1, 524288, 65521, 3, 524289, 65521, 3, 524290, 65521, 3, 524291, 65521, 3, 589819, 65521, 3, 589820, 65521, 3, 589821, 65521, 3, 589822, 65521, 3, 589823, 65521, 3, 589827, 65521, 1, 655355, 65521, -1073741823, 655363, 65521, 1073741825, 720891, 65521, -2147483647, 720899, 65521, 1, 786427, 65521, 1073741825, 786435, 65521, 1, 0, 65522, 1073741825, 1, 65522, 1073741825, 2, 65522, 1, 3, 65522, 1, 65531, 65522, -1073741823, 65532, 65522, 1073741825, 65533, 65522, 1073741825, 65534, 65522, -1073741823, 65535, 65522, 1, 65539, 65522, 1, 131067, 65522, -1073741823, 131075, 65522, 1073741825, 196603, 65522, 1, 196611, 65522, 1073741825, 262139, 65522, 1073741825, 262147, 65522, 1, 327675, 65522, 1073741825, 327683, 65522, -1073741823, 393211, 65522, 1, 393219, 65522, 1073741825, 458747, 65522, 1073741825, 458755, 65522, 1073741825, 524283, 65522, -1073741823, 524288, 65522, 1073741827, 524289, 65522, 1073741827, 524290, 65522, 1073741827, 524291, 65522, -1073741821, 589819, 65522, -1073741821, 589820, 65522, -1073741821, 589821, 65522, 1073741827, 589822, 65522, 1073741827, 589823, 65522, 1073741827, 589827, 65522, 1073741825, 655355, 65522, -1073741823, 655363, 65522, -1073741823, 720891, 65522, 1, 720899, 65522, 1073741825, 786427, 65522, -1073741823, 786435, 65522, 1, 0, 65523, -1073741823, 1, 65523, 1073741825, 2, 65523, -1073741823, 3, 65523, 1, 65531, 65523, -1073741823, 65532, 65523, -1073741823, 65533, 65523, -1073741823, 65534, 65523, -1073741823, 65535, 65523, -1073741823, 65539, 65523, 1073741825, 131067, 65523, 1073741825, 131075, 65523, -1073741823, 196603, 65523, -1073741823, 196611, 65523, 1, 262139, 65523, 1, 262147, 65523, 1, 327675, 65523, -1073741823, 327683, 65523, -1073741823, 393211, 65523, -1073741823, 393219, 65523, -1073741823, 458747, 65523, 1073741825, 458755, 65523, 1073741825, 524283, 65523, -1073741823, 524288, 65523, 3, 524289, 65523, -1073741821, 524290, 65523, -1073741821, 524291, 65523, -1073741821, 589819, 65523, 3, 589820, 65523, -1073741821, 589821, 65523, -1073741821, 589822, 65523, 536870915, 589823, 65523, -1073741821, 589827, 65523, -1073741823, 655355, 65523, -1073741823, 655363, 65523, 1, 720891, 65523, 1, 720899, 65523, 1, 786427, 65523, -1073741823, 786435, 65523, -1073741823, 0, 65524, -1610612735, 1, 65524, 1, 2, 65524, -1073741823, 3, 65524, 1, 65531, 65524, 1, 65532, 65524, 1, 65533, 65524, -1073741823, 65534, 65524, 1, 65535, 65524, 1, 65539, 65524, 1, 131067, 65524, -1073741823, 131075, 65524, 1073741825, 196603, 65524, -1073741823, 196611, 65524, 1, 262139, 65524, 1, 262147, 65524, 1, 327675, 65524, 1, 327683, 65524, -1073741823, 393211, 65524, 536870913, 393219, 65524, 1, 458747, 65524, 1, 458755, 65524, 1073741825, 524283, 65524, 1, 524288, 65524, 3, 524289, 65524, 536870915, 524290, 65524, 3, 524291, 65524, -1073741821, 589819, 65524, -1073741821, 589820, 65524, 3, 589821, 65524, 3, 589822, 65524, -1610612733, 589823, 65524, 3, 589827, 65524, 1073741825, 655355, 65524, 1, 655363, 65524, 1, 720891, 65524, 1, 720899, 65524, -1073741823, 786427, 65524, 1, 786435, 65524, 1, 0, 65525, 1, 1, 65525, 1, 2, 65525, 536870913, 3, 65525, -1073741823, 65531, 65525, 1, 65532, 65525, 1, 65533, 65525, 1, 65534, 65525, 1, 65535, 65525, 1, 65539, 65525, 1, 131067, 65525, 1, 131075, 65525, 1, 196603, 65525, 1, 196611, 65525, 1, 262139, 65525, 1, 262147, 65525, 1, 327675, 65525, -1073741823, 327683, 65525, 1, 393211, 65525, 1, 393219, 65525, 1073741825, 458747, 65525, 1, 458755, 65525, 1, 524283, 65525, 1, 524288, 65525, 3, 524289, 65525, 3, 524290, 65525, 3, 524291, 65525, 536870915, 589819, 65525, 3, 589820, 65525, 3, 589821, 65525, -1073741821, 589822, 65525, 3, 589823, 65525, 3, 589827, 65525, 1, 655355, 65525, 536870913, 655363, 65525, 1, 720891, 65525, 1, 720899, 65525, 536870913, 786427, 65525, -1610612735, 786435, 65525, 1, 0, 65526, 536870913, 1, 65526, 1, 2, 65526, 1, 3, 65526, 1, 65531, 65526, 1, 65532, 65526, 1, 65533, 65526, 1, 65534, 65526, 1, 65535, 65526, 1, 65539, 65526, 536870913, 131067, 65526, 1, 131075, 65526, 1, 196603, 65526, 1, 196611, 65526, 536870913, 262139, 65526, 1, 262147, 65526, 1, 327675, 65526, 1, 327683, 65526, 1, 393211, 65526, 1, 393219, 65526, 1, 458747, 65526, 1, 458755, 65526, 1, 524283, 65526, 1, 524288, 65526, 3, 524289, 65526, 3, 524290, 65526, 3, 524291, 65526, 3, 589819, 65526, 3, 589820, 65526, 3, 589821, 65526, 3, 589822, 65526, 3, 589823, 65526, 3, 589827, 65526, 1, 655355, 65526, 1, 655363, 65526, 1, 720891, 65526, 1, 720899, 65526, 1, 786427, 65526, 1, 786435, 65526, 1, 0, 65527, 1, 1, 65527, 1, 2, 65527, 1, 3, 65527, 1, 65531, 65527, 1, 65532, 65527, 1, 65533, 65527, 1, 65534, 65527, 1, 65535, 65527, 1, 65539, 65527, 1, 131067, 65527, 1, 131075, 65527, 1, 196603, 65527, 1, 196611, 65527, 1, 262139, 65527, 1, 262147, 65527, 1, 327675, 65527, 1, 327683, 65527, 1, 393211, 65527, 1, 393219, 65527, 1, 458747, 65527, 1073741825, 458755, 65527, 1, 524283, 65527, 1, 524288, 65527, 3, 524289, 65527, 3, 524290, 65527, 3, 524291, 65527, 3, 589819, 65527, 3, 589820, 65527, 3, 589821, 65527, 3, 589822, 65527, 3, 589823, 65527, 3, 589827, 65527, 1, 655355, 65527, 1, 655363, 65527, 536870913, 720891, 65527, 1, 720899, 65527, 1, 786427, 65527, 1, 786435, 65527, 1, 0, 65528, 1, 1, 65528, 1, 2, 65528, 1073741825, 3, 65528, 1, 65531, 65528, 1, 65532, 65528, 536870913, 65533, 65528, 1, 65534, 65528, 1, 65535, 65528, 1, 65536, 65528, 1, 65537, 65528, 1, 65538, 65528, 1, 65539, 65528, 1, 131067, 65528, 1, 131068, 65528, 1, 131069, 65528, 1, 131070, 65528, 1, 131071, 65528, 1, 131072, 65528, 1, 131073, 65528, 1, 131074, 65528, 1, 131075, 65528, 1, 196603, 65528, 1, 196604, 65528, 1, 196605, 65528, 1, 196606, 65528, 1, 196607, 65528, 1, 196611, 65528, 1, 262139, 65528, 1, 262147, 65528, 1, 327675, 65528, 1, 327683, 65528, 1, 393211, 65528, 1, 393219, 65528, 1, 458747, 65528, 1, 458755, 65528, 1, 524283, 65528, 1, 524288, 65528, 3, 524289, 65528, 3, 524290, 65528, 3, 524291, 65528, 3, 589819, 65528, 3, 589820, 65528, 3, 589821, 65528, 3, 589822, 65528, 3, 589823, 65528, 3, 589827, 65528, 1, 655355, 65528, 1, 655363, 65528, 1, 720891, 65528, 1, 720899, 65528, 1, 786427, 65528, 1, 786435, 65528, 1, 0, 65529, 1, 1, 65529, 1, 2, 65529, 1, 3, 65529, 1, 65531, 65529, 1, 65532, 65529, 536870913, 65533, 65529, 1, 65534, 65529, 1, 65535, 65529, 1, 65536, 65529, 1, 65537, 65529, 1, 65538, 65529, 1, 65539, 65529, 536870913, 131067, 65529, 1, 131068, 65529, 536870913, 131069, 65529, 1, 131070, 65529, 1, 131071, 65529, 1, 131072, 65529, 1, 131073, 65529, 1, 131074, 65529, 1, 131075, 65529, 1, 196603, 65529, 1, 196604, 65529, 1, 196605, 65529, 1, 196606, 65529, 1, 196607, 65529, 1, 196611, 65529, 1610612737, 262139, 65529, 1, 262147, 65529, 1, 327675, 65529, 1, 327683, 65529, 1, 393211, 65529, 1, 393219, 65529, 1, 458747, 65529, 1, 458755, 65529, 1, 524283, 65529, 1, 524288, 65529, 1610612739, 524289, 65529, 3, 524290, 65529, 3, 524291, 65529, 3, 589819, 65529, 3, 589820, 65529, 3, 589821, 65529, 3, 589822, 65529, 536870915, 589823, 65529, 3, 589827, 65529, 1, 655355, 65529, 1, 655363, 65529, 1073741825, 720891, 65529, 1, 720899, 65529, 1, 786427, 65529, 1, 786435, 65529, 536870913, 0, 65530, 1, 1, 65530, 536870913, 2, 65530, 1, 3, 65530, 536870913, 65531, 65530, 1, 65532, 65530, 1, 65533, 65530, 1610612737, 65534, 65530, 536870913, 65535, 65530, 1, 65536, 65530, 1, 65537, 65530, 1, 65538, 65530, 1, 65539, 65530, 1, 131067, 65530, 536870913, 131068, 65530, 1, 131069, 65530, 1, 131070, 65530, 1, 131071, 65530, 1610612737, 131072, 65530, 1610612737, 131073, 65530, 1, 131074, 65530, 536870913, 131075, 65530, 1, 196603, 65530, 1610612737, 196604, 65530, 1, 196605, 65530, 1, 196606, 65530, 1, 196607, 65530, 536870913, 196611, 65530, 1, 262139, 65530, 536870913, 262147, 65530, 1610612737, 327675, 65530, 1, 327683, 65530, 1, 393211, 65530, 1, 393219, 65530, -2147483647, 458747, 65530, 536870913, 458755, 65530, 536870913, 524283, 65530, 1, 524288, 65530, 536870915, 524289, 65530, 3, 524290, 65530, 536870915, 524291, 65530, 3, 589819, 65530, 3, 589820, 65530, 536870915, 589821, 65530, 1610612739, 589822, 65530, 536870915, 589823, 65530, 3, 589827, 65530, 1, 655355, 65530, 1, 655363, 65530, 1, 720891, 65530, 1, 720899, 65530, 1, 786427, 65530, 536870913, 786435, 65530, 1, 0, 65531, 536870913, 1, 65531, -2147483647, 2, 65531, 1, 3, 65531, 1, 65531, 65531, 1, 65532, 65531, 1, 65533, 65531, 1, 65534, 65531, 1, 65535, 65531, 1, 65536, 65531, 1073741825, 65537, 65531, 1, 65538, 65531, 1, 65539, 65531, 1, 131067, 65531, 1, 131068, 65531, 1, 131069, 65531, 1, 131070, 65531, 1, 131071, 65531, 1, 131072, 65531, 1, 131073, 65531, 1610612737, 131074, 65531, 1, 131075, 65531, 1, 196603, 65531, 1, 196604, 65531, 1, 196605, 65531, 1, 196606, 65531, 1, 196607, 65531, 1, 196611, 65531, 1, 262139, 65531, 1, 262147, 65531, 1, 327675, 65531, 1, 327683, 65531, 1, 393211, 65531, 1, 393219, 65531, 1, 458747, 65531, 1, 458755, 65531, 1, 524283, 65531, 1, 524288, 65531, 3, 524289, 65531, 3, 524290, 65531, 3, 524291, 65531, 3, 589819, 65531, 3, 589820, 65531, 3, 589821, 65531, 3, 589822, 65531, 3, 589823, 65531, 3, 589827, 65531, 1, 655355, 65531, 1, 655363, 65531, 1610612737, 720891, 65531, 1610612737, 720899, 65531, 1, 786427, 65531, 1, 786435, 65531, 1, 131072, 65532, 1, 131073, 65532, 1, 131074, 65532, 1, 131075, 65532, 1, 196603, 65532, 1610612737, 196604, 65532, 536870913, 196605, 65532, 1, 196606, 65532, 1, 196607, 65532, 1, 196608, 65532, 1, 196609, 65532, 536870913, 196610, 65532, 1, 196611, 65532, 1, 262139, 65532, 1, 262140, 65532, 1, 262141, 65532, 1, 262142, 65532, 536870913, 262144, 65532, 1, 262145, 65532, 536870913, 262146, 65532, 1073741825, 262147, 65532, 1, 327675, 65532, 1, 327676, 65532, 1, 327677, 65532, 1, 327678, 65532, 1, 327680, 65532, 1, 327681, 65532, 1, 327682, 65532, 1610612737, 327683, 65532, 1, 393211, 65532, 1, 393212, 65532, 536870913, 393213, 65532, 1, 393214, 65532, 1610612737, 393215, 65532, 1, 393216, 65532, 1610612737, 393217, 65532, 1, 393218, 65532, 1, 393219, 65532, 1, 458747, 65532, 1, 458748, 65532, 536870913, 458749, 65532, 1, 458750, 65532, 1, 458751, 65532, 1073741825, 458752, 65532, 1, 458753, 65532, 1, 458754, 65532, 1, 458755, 65532, 1, 524283, 65532, 1, 524284, 65532, 1, 524285, 65532, 1, 524286, 65532, 1, 524287, 65532, 1, 524288, 65532, 3, 524289, 65532, 3, 524290, 65532, 1073741827, 524291, 65532, 3, 589819, 65532, 3, 589820, 65532, 1610612739, 589821, 65532, 3, 589822, 65532, 3, 589823, 65532, 3, 589824, 65532, 1610612737, 589825, 65532, 1, 589826, 65532, 1, 589827, 65532, 1073741825, 655355, 65532, 1, 655356, 65532, 1, 655357, 65532, 1, 655358, 65532, 1, 655359, 65532, 1, 655360, 65532, 1, 655361, 65532, 1, 655362, 65532, 1, 655363, 65532, 1, 720891, 65532, 1, 720892, 65532, 1, 720893, 65532, 1, 720894, 65532, 1073741825, 720895, 65532, 1, 720899, 65532, 1, 786427, 65532, 1, 786435, 65532, 1, 524288, 65533, 3, 524289, 65533, 3, 524290, 65533, 3, 524291, 65533, 3, 589819, 65533, 3, 589820, 65533, 3, 589821, 65533, 3, 589822, 65533, 536870915, 589823, 65533, 3 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( -6, 7, -17 )
}

[node name="Luci" type="Spatial" parent="Mondo gridmap"]

[node name="DirectionalLight" type="DirectionalLight" parent="Mondo gridmap/Luci"]
transform = Transform( 1, 0, 0, 0, 0.756433, 0.654072, 0, -0.654072, 0.756433, 0, 10.5958, 0 )
visible = false
shadow_enabled = true
shadow_bias = 0.05

[node name="OmniLight" type="OmniLight" parent="Mondo gridmap/Luci"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.654333, 6.57885, -28.9591 )
light_color = Color( 0.329412, 0.529412, 0.870588, 1 )
light_energy = 5.0
omni_range = 16.8587

[node name="OmniLight2" type="OmniLight" parent="Mondo gridmap/Luci"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.30552, 9.95474, -9.8874 )
light_color = Color( 0.988235, 0.239216, 0.129412, 1 )
light_energy = 3.0
omni_range = 14.9247

[node name="OmniLight3" type="OmniLight" parent="Mondo gridmap/Luci"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.9216, 13.6879, -2.57426 )
light_color = Color( 0.886275, 0.258824, 0.831373, 1 )
light_energy = 5.0
omni_range = 10.9787

[node name="Personaggio" parent="." instance=ExtResource( 6 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -1.51257, 2.9996, -29.5237 )

[node name="Destinazione camera interpolata" type="Spatial" parent="Personaggio"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.324497, 0.650119, 3.17011 )

[node name="GruppoOggettiDinamici" parent="." instance=ExtResource( 7 )]

[node name="RigidBody" parent="GruppoOggettiDinamici" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.62621, 3.70319, -23.373 )

[node name="Oggetti interattivi" type="Spatial" parent="."]
[connection signal="gravita_cambiata" from="Gestore gravita globale" to="Personaggio" method="_on_gravita_cambiata"]
[connection signal="gravita_cambiata" from="Gestore gravita globale" to="GruppoOggettiDinamici" method="_on_gravita_cambiata"]
